<%- include('partials/header', { bodyClass: typeof bodyClass !== 'undefined' ? bodyClass : '' }) %>

<section class="hero hero-wrapper overlay-jade hero-aesthetic"
         data-hero-bg='<%= (post && post.image) || "/pictures/Washology/Gemini_Generated_Image_spad6ospad6ospad.png" %>'>
  <div class="hero-overlay" aria-hidden="true"></div>
  <div class="content-wrapper container position-relative">
    <div class="row align-items-end justify-content-center">
      <div class="col-lg-10 col-md-11 col-sm-12 text-center">
        <h4 class="hero-eyebrow mb-2"><%= post && post.category ? post.category : 'Blog' %></h4>
        <h1 class="hero-title mt-1 mb-0"><%= post && post.title ? post.title : 'Blog Post' %></h1>
        <% if (post && post.readMin) { %>
          <p class="mt-3" style="opacity:.9">⏱ <%= post.readMin %></p>
        <% } %>
      </div>
    </div>
  </div>
</section>

<style>
  /* Hero overlay to match Washology gradient */
  .hero-aesthetic .hero-overlay {
    background: linear-gradient(180deg, rgba(11, 94, 142, 0.45) 0%, rgba(11, 94, 142, 0.25) 40%, rgba(11, 94, 142, 0.45) 100%);
  }
  /* Article styles */
  .post-article { padding: 2.25rem 0 3rem; }
  .post-article .post-meta { color: var(--brand-blue); font-weight: 700; letter-spacing: .02em; }
  .post-article .post-meta .badge.category { background: var(--brand-yellow) !important; color: var(--brand-blue) !important; border: 0; }
  .post-article .post-meta .badge.time { background: transparent; border: 2px solid var(--brand-blue); color: var(--brand-blue); font-weight: 800; }
  .post-article .post-figure { border-radius: 16px; overflow: hidden; box-shadow: 0 12px 28px rgba(0,0,0,.16); }
  .post-article .content p { font-size: 1.05rem; line-height: 1.8; margin: 0 0 1.15rem; }
  .post-article .content h2, .post-article .content h3 { font-weight: 800; margin-top: 1.5rem; color: #05132D; }
  .post-article .content a { color: var(--brand-blue); text-decoration-color: var(--brand-yellow); text-underline-offset: 2px; }
  .post-article .content a:hover { filter: brightness(0.95); }
  .post-article .content img { max-width: 100%; height: auto; border-radius: 12px; }
  .post-article .back-link { display: inline-block; margin-top: 1rem; }
  /* Define primary-dark button variant for Back button */
  .btn.btn-primary-dark { background-color: var(--brand-blue) !important; border-color: var(--brand-blue) !important; color: #fff !important; }
  .btn.btn-primary-dark:hover { filter: brightness(1.05); box-shadow: 0 8px 18px rgba(11,94,142,.22); color: #fff !important; }
</style>

<section class="post-article">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-9 col-md-10">
        <div class="post-meta mb-3">
          <% if (post && post.category) { %>
            <span class="badge category me-2"><%= post.category %></span>
          <% } %>
          <% if (post && post.readMin) { %>
            <span class="badge time"><%= post.readMin %></span>
          <% } %>
        </div>

        <% if (post && post.image) { %>
          <figure class="post-figure mb-4">
            <img src="<%= post.image %>" alt="<%= post.title %>" class="img-fluid" />
          </figure>
        <% } %>

        <article class="content">
          <% if (post && post.body) { %>
            <%- post.body %>
          <% } else if (post && post.excerpt) { %>
            <p><%= post.excerpt %></p>
          <% } else { %>
            <p>We couldn't find the full content for this post yet. Please check back soon.</p>
          <% } %>
        </article>

        <a href="/blog" class="back-link btn btn-primary-dark">← Back to Blog</a>
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
