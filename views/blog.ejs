<%- include('partials/header', { bodyClass: typeof bodyClass !== 'undefined' ? bodyClass : 'blog wp-theme-resi-franchise wp-child-theme-garageup' }) %>

  <div class="blog-archive-wrapper">
  <section class="hero hero-wrapper col-sm-12" style="background-image: url('<%= (blog && blog.heroBg) || '/pictures/Washology/Gemini_Generated_Image_5t5p1o5t5p1o5t5p.png' %>');">
    <h1><%= (blog && blog.heroTitle) || 'Blog' %></h1>
  </section>

  <section class="stripes-triple-top ">
    <div class="container blog-cards-wrapper">
      <div class="cards-header-wrapper">
        <div class="title-wrapper col-sm-12">
          <h2></h2>
        </div>

        <div class="categories-wrapper col-sm-12">
        </div>
      </div>

      <div class="blog-cards-nav">
        <button class="blog-cards-prev" type="button" aria-label="Previous posts">‹</button>
        <button class="blog-cards-next" type="button" aria-label="Next posts">›</button>
      </div>

      <div class="cards-inner-wrapper" role="region" aria-label="Blog posts slider">
        <% 
          const posts = [];
          const toSlug = (s) => String(s || '')
            .toLowerCase()
            .replace(/&/g, ' and ')
            .replace(/[^a-z0-9]+/g, '-')
            .replace(/^-+|-+$/g, '')
            .substring(0, 120);
          if (blog) {
            for (let i = 1; i <= 12; i++) {
              const t = blog[`post${i}Title`];
              const u = blog[`post${i}Url`];
              const c = blog[`post${i}Category`];
              const r = blog[`post${i}ReadMin`];
              const img = blog[`post${i}Image`];
              const ex = blog[`post${i}Excerpt`];
              if (t || img || ex) {
                const s = toSlug(t || '');
                posts.push({ t: t || '', u: u || '/', s, c: c || 'Uncategorized', r: r || '', img: img || '', ex: ex || '' });
              }
            }
          }
        %>
        <% if (posts.length) { %>
          <% posts.forEach(function(p){ %>
            <article class="archive-post-card">
              <div class="card">
                <a href="/blog/<%- p.s %>" rel="bookmark">
                  <div class="card-body">
                    <span class="floating-cat">
                      <p><%- p.c %></p>
                      <% if (p.r) { %><p style="margin-left: 10px;"><%- p.r %></p><% } %>
                    </span>
                    <div class="card-text entry-content">
                      <% if (p.img) { %>
                        <div class="post-thumbnail img-fluid">
                          <img width="800" height="640" src="<%- p.img %>" alt="<%- p.t %>" />
                        </div>
                      <% } %>
                      <div class="title-wrapper">
                        <h5><%- p.t %></h5>
                      </div>
                      <% if (p.ex) { %>
                        <div class="excerpt-wrapper"><p><%- p.ex %></p></div>
                      <% } %>
                    </div>
                  </div>
                </a>
              </div>
            </article>
          <% }); %>
        <% } else { %>
        <!-- Static post cards preserved as fallbacks -->
        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat">
                  <p>Uncategorized</p>
                  <p style="margin-left: 10px;">4 MIN</p>
                </span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="640" src="https://www.asppoolco.com/assets/subpage-banner-images/poolcleaning.jpg" alt="Swim Studs professional pool cleaning service" sizes="(max-width: 800px) 100vw, 800px" />
                  </div>
                  <div class="title-wrapper">
                    <h5>Weekly Pool Service in Austin: Clear, Safe, and Sparkling</h5>
                  </div>
                  <div class="excerpt-wrapper">
                    <p>Swim Studs provides reliable weekly pool service—skimming, brushing, vacuuming, and balancing—to keep your water crystal clear all season.</p>
                  </div>
                </div>
              </div>
            </a>
          </div>
        </article>

        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat"><p>Uncategorized</p><p style="margin-left: 10px;">5 MIN</p></span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="640" src="/wp-content/uploads/2025/05/GU-website-photos-1024x819.jpg" alt="a garage with linear lights on along the borders of the ceiling" sizes="(max-width: 800px) 100vw, 800px" />
                  </div>
                  <div class="title-wrapper"><h5>Garage Motor Installation in Austin (2025): Get It Done Right the First Time</h5></div>
                  <div class="excerpt-wrapper"><p>Whether you're upgrading an old unit or setting up a brand-new opener, proper garage motor installation is key to safety, performance, and peace of mind.</p></div>
                </div>
              </div>
            </a>
          </div>
        </article>

        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat"><p>Uncategorized</p><p style="margin-left: 10px;">6 MIN</p></span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="642" src="/wp-content/uploads/2025/04/92a2b1320fd849d05eee3af9c8e41e87-e1750264298595-1024x822.jpg" alt="Swim Studs team installing a garage door motor. garage door installation" sizes="(max-width: 800px) 100vw, 800px" />
                  </div>
                  <div class="title-wrapper"><h5>Garage Opener Installation &amp; Repair in Austin (2025): Fast, Smart, and Reliable Solutions</h5></div>
                  <div class="excerpt-wrapper"><p>Over 60% of homeowners in Austin have upgraded to smart garage openers for better convenience and security.</p></div>
                </div>
              </div>
            </a>
          </div>
        </article>

        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat"><p>Tips</p><p style="margin-left: 10px;">3 MIN</p></span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="640" src="/pictures/Washology/Gemini_Generated_Image_foova8foova8foov.png" alt="Garage organization tips" />
                  </div>
                  <div class="title-wrapper"><h5>Top 5 Garage Organization Tips for Busy Homeowners</h5></div>
                  <div class="excerpt-wrapper"><p>Quick wins to declutter and maximize your garage space with simple storage upgrades.</p></div>
                </div>
              </div>
            </a>
          </div>
        </article>

        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat"><p>How-To</p><p style="margin-left: 10px;">4 MIN</p></span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="640" src="/pictures/Washology/Gemini_Generated_Image_spad6ospad6ospad.png" alt="DIY garage maintenance" />
                  </div>
                  <div class="title-wrapper"><h5>DIY Garage Door Maintenance: What You Can Safely Do</h5></div>
                  <div class="excerpt-wrapper"><p>Simple steps to keep your garage door running smoothly between professional services.</p></div>
                </div>
              </div>
            </a>
          </div>
        </article>

        <article class="archive-post-card">
          <div class="card">
            <a href="/" rel="bookmark">
              <div class="card-body">
                <span class="floating-cat"><p>Uncategorized</p><p style="margin-left: 10px;">5 MIN</p></span>
                <div class="card-text entry-content">
                  <div class="post-thumbnail img-fluid">
                    <img width="800" height="640" src="/pictures/Washology/Gemini_Generated_Image_gm76qbgm76qbgm76.png" alt="Smart garage opener" />
                  </div>
                  <div class="title-wrapper"><h5>Is a Smart Garage Opener Worth It in 2025?</h5></div>
                  <div class="excerpt-wrapper"><p>We break down features, costs, and how smart openers improve daily convenience.</p></div>
                </div>
              </div>
            </a>
          </div>
        </article>
        <% } %>
      </div>
    </div>
  </section>

  <%- include('partials/get-started', {
    title: (blog && blog.ctaTitle) || 'Ready to get started?',
    body: (blog && blog.ctaBody) || 'Contact us for a free onsite estimate within 24 hours.',
    url: (blog && blog.ctaUrl) || '/contact-us',
    label: (blog && blog.ctaLabel) || 'Contact Us'
  }) %>

  </div>

  <style>
    /* Page-scoped blog styles and centered form rules if any forms are added here */
    .blog-archive-wrapper .cards-inner-wrapper {
      display: flex;
      gap: 24px;
      overflow: hidden;
      scroll-behavior: smooth;
      padding: 6px 4px;
    }
    .blog-archive-wrapper .archive-post-card { flex: 0 0 auto; width: clamp(320px, 34vw, 420px); }
    .blog-archive-wrapper .archive-post-card .card { height: 100%; }
    .blog-archive-wrapper .archive-post-card .post-thumbnail { position: relative; height: 300px; overflow: hidden; }
    .blog-archive-wrapper .archive-post-card .post-thumbnail img { width: 100%; height: 100%; object-fit: cover; object-position: center 15%; display: block; }

    /* Nav buttons */
    .blog-cards-nav { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 8px; }
    .blog-cards-prev, .blog-cards-next {
      width: 42px; height: 42px; border-radius: 50%; border: none;
      background: var(--brand-blue); color: #fff; font-size: 1.5rem; line-height: 1;
      display: inline-flex; align-items: center; justify-content: center;
      box-shadow: 0 8px 18px rgba(0,0,0,.18); cursor: pointer;
    }
    .blog-cards-prev:hover, .blog-cards-next:hover { filter: brightness(1.05); }

    /* Center cards and apply brand red background with white text */
    .blog-archive-wrapper .archive-post-card .card {
      background: var(--brand-red) !important;
      color: #fff !important;
      border: none;
      border-radius: 14px;
      overflow: hidden;
    }
    .blog-archive-wrapper .archive-post-card .card-body,
    .blog-archive-wrapper .archive-post-card .card-text.entry-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 10px;
    }
    .blog-archive-wrapper .archive-post-card .title-wrapper h5,
    .blog-archive-wrapper .archive-post-card .excerpt-wrapper p,
    .blog-archive-wrapper .archive-post-card a,
    .blog-archive-wrapper .archive-post-card p { color: #fff !important; }

    /* Category/read-time strip centered */
    .blog-archive-wrapper .archive-post-card .floating-cat {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }
    /* Category/read-time pills: Washology blue text, no forced background */
    .blog-archive-wrapper .archive-post-card .floating-cat p {
      color: var(--brand-blue) !important;
      background: transparent !important;
    }

    /* Keep thumbnails full width within red card (override to fixed height above) */
    @media (max-width: 576px) {
      .blog-archive-wrapper .archive-post-card .post-thumbnail { height: 220px; }
      .blog-archive-wrapper .archive-post-card .post-thumbnail img { object-position: center 18%; }
    }

    /* Button overrides for white outline on brand red */
    .blog-archive-wrapper .archive-post-card .btn.btn-outline-secondary {
      border-color: #fff !important;
      color: #fff !important;
    }
    .blog-archive-wrapper .archive-post-card .btn.btn-outline-secondary:hover,
    .blog-archive-wrapper .archive-post-card .btn.btn-outline-secondary:focus {
      background: #fff !important;
      color: var(--brand-red) !important;
      border-color: #fff !important;
    }

    /* Form styles: consistent centered, full-width controls */
    .blog-archive-wrapper form.wpforms-form,
    .blog-archive-wrapper .form-wrapper,
    .blog-archive-wrapper .estimate-form {
      max-width: 760px;
      margin: 0 auto;
    }
    .blog-archive-wrapper input[type="text"],
    .blog-archive-wrapper input[type="email"],
    .blog-archive-wrapper input[type="tel"],
    .blog-archive-wrapper select,
    .blog-archive-wrapper textarea { width: 100%; }
    .blog-archive-wrapper button[type="submit"],
    .blog-archive-wrapper .btn[type="submit"],
    .blog-archive-wrapper .wpforms-submit { display: inline-block; margin: 16px auto 0; }
  </style>

  <script>
    (function(){
      try {
        var track = document.querySelector('.blog-archive-wrapper .cards-inner-wrapper');
        var prev = document.querySelector('.blog-cards-prev');
        var next = document.querySelector('.blog-cards-next');
        if (!track || !prev || !next) return;
        function scrollByAmount(dir){
          var amount = Math.max(320, Math.floor(track.clientWidth * 0.9));
          track.scrollBy({ left: dir * amount, behavior: 'smooth' });
        }
        prev.addEventListener('click', function(){ scrollByAmount(-1); });
        next.addEventListener('click', function(){ scrollByAmount(1); });
      } catch(e) {}
    })();
  </script>

<%- include('partials/footer') %>
